(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{181:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("See "),s("router-link",{attrs:{to:"./../guide/bundle-renderer.html"}},[t._v("Introducing the Server Bundle")]),t._v(" and "),s("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("Build Configuration")]),t._v(" for more details.")],1),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("Signature:")]),t._v(" "),t._m(11),s("p",[t._v("Render a Vue instance to string. The context object is optional. The callback is a typical Node.js style callback where the first argument is the error and the second argument is the rendered string.")]),t._v(" "),s("p",[t._v("In 2.5.0+, the callback is also optional. When no callback is passed, the method returns a Promise which resolves to the rendered HTML.")]),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("Signature:")]),t._v(" "),t._m(13),s("p",[t._v("Render a Vue instance to a "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js readable stream"),s("OutboundLink")],1),t._v(". The context object is optional. See "),s("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("Streaming")]),t._v(" for more details.")],1),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("Signature:")]),t._v(" "),t._m(16),s("p",[t._v("Render the bundle to a string. The context object is optional. The callback is a typical Node.js style callback where the first argument is the error and the second argument is the rendered string.")]),t._v(" "),s("p",[t._v("In 2.5.0+, the callback is also optional. When no callback is passed, the method returns a Promise which resolves to the rendered HTML.")]),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("Signature:")]),t._v(" "),t._m(18),s("p",[t._v("Render the bundle to a "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js readable stream"),s("OutboundLink")],1),t._v(". The context object is optional. See "),s("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("Streaming")]),t._v(" for more details.")],1),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),s("p",[t._v("The template also supports basic interpolation using the render context:")]),t._v(" "),t._m(24),t._v(" "),s("p",[t._v("The template automatically injects appropriate content when certain data is found on the render context:")]),t._v(" "),s("ul",[t._m(25),t._v(" "),t._m(26),t._v(" "),s("li",[s("p",[s("code",[t._v("context.state")]),t._v(": (Object) initial Vuex store state that should be inlined in the page as "),s("code",[t._v("window.__INITIAL_STATE__")]),t._v(". The inlined JSON is automatically sanitized with "),s("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("serialize-javascript"),s("OutboundLink")],1),t._v(" to prevent XSS.")]),t._v(" "),s("p",[t._v("In 2.5.0+, the embed script also self-removes in production mode.")]),t._v(" "),t._m(27)])]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),s("p",[t._v("The function receives two arguments:")]),t._v(" "),t._m(34),t._v(" "),s("p",[t._v("Example:")]),t._v(" "),t._m(35),s("p",[t._v("Note that when using a custom template function, nothing will be automatically injected - you will be in full control of what the eventual HTML includes, but also will be responsible for including everything yourself (e.g. asset links if you are using the bundle renderer).")]),t._v(" "),s("p",[t._v("See also:")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"./../guide/#using-a-page-template"}},[t._v("Using a Page Template")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"./../guide/build-config.html#manual-asset-injection"}},[t._v("Manual Asset Injection")])],1)]),t._v(" "),t._m(36),t._v(" "),s("p",[t._v("Provide a client build manifest object generated by "),s("code",[t._v("vue-server-renderer/client-plugin")]),t._v(". The client manifest provides the bundle renderer with the proper information for automatic asset injection into the HTML template. For more details, see "),s("router-link",{attrs:{to:"./../guide/build-config.html#generating-clientmanifest"}},[t._v("Generating clientManifest")]),t._v(".")],1),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),s("p",[t._v("See also: "),s("router-link",{attrs:{to:"./../guide/build-config.html#manual-asset-injection"}},[t._v("Manual Asset Injection")]),t._v(".")],1),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),s("p",[t._v("By default, only JavaScript and CSS files will be preloaded, as they are absolutely needed for your application to boot.")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),s("p",[t._v("By default, for each render the bundle renderer will create a fresh V8 context and re-execute the entire bundle. This has some benefits - for example, the app code is isolated from the server process and we don't need to worry about the "),s("router-link",{attrs:{to:"./../guide/structure.html#avoid-stateful-singletons"}},[t._v("stateful singleton problem")]),t._v(" mentioned in the docs. However, this mode comes at some considerable performance cost because re-executing the bundle is expensive especially when the app gets bigger.")],1),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),s("p",[t._v("See also: "),s("router-link",{attrs:{to:"./../guide/structure.html"}},[t._v("Source Code Structure")])],1),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),s("p",[t._v("Provide a "),s("router-link",{attrs:{to:"./../guide/caching.html#component-level-caching"}},[t._v("component cache")]),t._v(" implementation. The cache object must implement the following interface (using Flow notations):")],1),t._v(" "),t._m(58),s("p",[t._v("A typical usage is passing in an "),s("a",{attrs:{href:"https://github.com/isaacs/node-lru-cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("lru-cache"),s("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),s("p",[t._v("Allows you to provide server-side implementations for your custom directives:")]),t._v(" "),t._m(63),s("p",[t._v("As an example, check out "),s("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/src/platforms/web/server/directives/show.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("v-show")]),t._v("'s server-side implementation"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),s("p",[t._v("Provide a custom serializer function for "),s("code",[t._v("context.state")]),t._v(". Since the serialized state will be part of your final HTML, it is important to use a function that properly escapes HTML characters for security reasons. The default serializer is "),s("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("serialize-javascript"),s("OutboundLink")],1),t._v(" with "),s("code",[t._v("{ isJSON: true }")]),t._v(".")]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),s("ul",[s("li",[t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),s("p",[t._v("See more details in "),s("router-link",{attrs:{to:"./../guide/caching.html#component-level-caching"}},[t._v("Component-level Caching")]),t._v(".")],1)])]),t._v(" "),t._m(71),t._v(" "),s("ul",[s("li",[t._m(72),t._v(" "),t._m(73),t._v(" "),s("p",[t._v("See more details in "),s("router-link",{attrs:{to:"./../guide/data.html"}},[t._v("Data Fetching")]),t._v(".")],1)])]),t._v(" "),t._m(74),t._v(" "),s("p",[t._v("The webpack plugins are provided as standalone files and should be required directly:")]),t._v(" "),t._m(75),s("p",[t._v("The default files generated are:")]),t._v(" "),t._m(76),t._v(" "),s("p",[t._v("The filenames can be customized when creating the plugin instances:")]),t._v(" "),t._m(77),s("p",[t._v("See "),s("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("Build Configuration")]),t._v(" for more information.")],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"api-reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-reference","aria-hidden":"true"}},[this._v("#")]),this._v(" API Reference")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"createrenderer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#createrenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createRenderer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create a "),e("a",{attrs:{href:"#class-renderer"}},[e("code",[this._v("Renderer")])]),this._v(" instance with (optional) "),e("a",{attrs:{href:"#renderer-options"}},[this._v("options")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createRenderer "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("/* options */")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"createbundlerenderer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#createbundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createBundleRenderer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create a "),e("a",{attrs:{href:"#class-bundlerenderer"}},[e("code",[this._v("BundleRenderer")])]),this._v(" instance with a server bundle and (optional) "),e("a",{attrs:{href:"#renderer-options"}},[this._v("options")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createBundleRenderer "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serverBundle"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("/* options */")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("serverBundle")]),this._v(" argument can be one of the following:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("An absolute path to generated bundle file ("),s("code",[t._v(".js")]),t._v(" or "),s("code",[t._v(".json")]),t._v("). Must start with "),s("code",[t._v("/")]),t._v(" to be treated as a file path.")])]),t._v(" "),s("li",[s("p",[t._v("A bundle object generated by webpack + "),s("code",[t._v("vue-server-renderer/server-plugin")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("A string of JavaScript code (not recommended).")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"class-renderer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#class-renderer","aria-hidden":"true"}},[this._v("#")]),this._v(" Class: Renderer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"renderer-rendertostring"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToString")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("renderer"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("renderToString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"renderer-rendertostream"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToStream")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("renderer"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"class-bundlerenderer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#class-bundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" Class: BundleRenderer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bundlerenderer-rendertostring"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToString")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("bundleRenderer"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("renderToString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bundlerenderer-rendertostream"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToStream")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("bundleRenderer"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"renderer-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renderer-options","aria-hidden":"true"}},[this._v("#")]),this._v(" Renderer Options")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"template"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#template","aria-hidden":"true"}},[this._v("#")]),this._v(" template")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Type:")]),this._v(" "),e("ul",[e("li",[e("code",[this._v("string")])]),this._v(" "),e("li",[e("code",[this._v("string | (() => string | Promise<string>)")]),this._v(" (since 2.6)")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("If using a string template:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Provide a template for the entire page's HTML. The template should contain a comment "),e("code",[this._v("\x3c!--vue-ssr-outlet--\x3e")]),this._v(" which serves as the placeholder for rendered app content.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Use double-mustache for HTML-escaped interpolation;")]),this._v(" "),e("li",[this._v("Use triple-mustache for non-HTML-escaped interpolation.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[e("code",[this._v("context.head")]),this._v(": (string) any head markup that should be injected into the head of the page.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[e("code",[this._v("context.styles")]),this._v(": (string) any inline CSS that should be injected into the head of the page. Note this property will be automatically populated if using "),e("code",[this._v("vue-loader")]),this._v(" + "),e("code",[this._v("vue-style-loader")]),this._v(" for component CSS.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In 2.6.0+, if "),e("code",[this._v("context.nonce")]),this._v(" is present, it will be added as the "),e("code",[this._v("nonce")]),this._v(" attribute to the embedded script. This allows the inline script to conform to CSP that requires nonce.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In addition, when "),e("code",[this._v("clientManifest")]),this._v(" is also provided, the template automatically injects the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Client-side JavaScript and CSS assets needed by the render (with async chunks automatically inferred);")]),this._v(" "),e("li",[this._v("Optimal "),e("code",[this._v('<link rel="preload/prefetch">')]),this._v(" resource hints for the rendered page.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can disable all automatic injections by also passing "),e("code",[this._v("inject: false")]),this._v(" to the renderer.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("If using a function template:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),e("p",[this._v("Function template is only supported in 2.6+ and when using "),e("code",[this._v("renderer.renderToString")]),this._v(". It is NOT supported in "),e("code",[this._v("renderer.renderToStream")]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("template")]),this._v(" option can also be function that returns the rendered HTML or a Promise that resolves to the rendered HTML. This allows you to leverage native JavaScript template strings and potential async operations in the template rendering process.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("The rendering result of the app component as a string;")]),this._v(" "),e("li",[this._v("The rendering context object.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`<html>\n      <head>")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("context"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("</head>\n      <body>")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("</body>\n    <html>`")])]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"clientmanifest"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clientmanifest","aria-hidden":"true"}},[this._v("#")]),this._v(" clientManifest")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"inject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inject","aria-hidden":"true"}},[this._v("#")]),this._v(" inject")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Controls whether to perform automatic injections when using "),e("code",[this._v("template")]),this._v(". Defaults to "),e("code",[this._v("true")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"shouldpreload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shouldpreload","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPreload")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A function to control what files should have "),e("code",[this._v('<link rel="preload">')]),this._v(" resource hints generated.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For other types of assets such as images or fonts, preloading too much may waste bandwidth and even hurt performance, so what to preload will be scenario-dependent. You can control precisely what to preload using the "),e("code",[this._v("shouldPreload")]),this._v(" option:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bundle"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  clientManifest"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  shouldPreload"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// type is inferred based on the file extension.")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// https://fetch.spec.whatwg.org/#concept-request-destination")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'script'")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'style'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'font'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{attrs:{class:"token comment"}},[t._v("// only preload woff2 fonts")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("woff2$"),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("test")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'image'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{attrs:{class:"token comment"}},[t._v("// only preload important images")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" file "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'hero.jpg'")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"shouldprefetch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shouldprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPrefetch")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("2.5.0+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A function to control what files should have "),e("code",[this._v('<link rel="prefetch">')]),this._v(" resource hints generated.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default, all assets in async chunks will be prefetched since this is a low-priority directive; however you can customize what to prefetch in order to better control bandwidth usage. This option expects the same function signature as "),e("code",[this._v("shouldPreload")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"runinnewcontext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#runinnewcontext","aria-hidden":"true"}},[this._v("#")]),this._v(" runInNewContext")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("only used in "),s("code",[t._v("createBundleRenderer")])]),t._v(" "),s("li",[t._v("Expects: "),s("code",[t._v("boolean | 'once'")]),t._v(" ("),s("code",[t._v("'once'")]),t._v(" only supported in 2.3.1+)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This option defaults to "),e("code",[this._v("true")]),this._v(" for backwards compatibility, but it is recommended to use "),e("code",[this._v("runInNewContext: false")]),this._v(" or "),e("code",[this._v("runInNewContext: 'once'")]),this._v(" whenever you can.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("In 2.3.0 this option has a bug where "),e("code",[this._v("runInNewContext: false")]),this._v(" still executes the bundle using a separate global context. The following information assumes version 2.3.1+.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With "),e("code",[this._v("runInNewContext: false")]),this._v(", the bundle code will run in the same "),e("code",[this._v("global")]),this._v(" context with the server process, so be careful about code that modifies "),e("code",[this._v("global")]),this._v(" in your application code.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With "),e("code",[this._v("runInNewContext: 'once'")]),this._v(" (2.3.1+), the bundle is evaluated in a separate "),e("code",[this._v("global")]),this._v(" context, however only once at startup. This provides better app code isolation since it prevents the bundle from accidentally polluting the server process' "),e("code",[this._v("global")]),this._v(" object. The caveats are that:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Dependencies that modifies "),e("code",[this._v("global")]),this._v(" (e.g. polyfills) cannot be externalized in this mode;")]),this._v(" "),e("li",[this._v("Values returned from the bundle execution will be using different global constructors, e.g. an error caught inside the bundle will not be an instance of "),e("code",[this._v("Error")]),this._v(" in the server process.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"basedir"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basedir","aria-hidden":"true"}},[this._v("#")]),this._v(" basedir")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("only used in "),e("code",[this._v("createBundleRenderer")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Explicitly declare the base directory for the server bundle to resolve "),e("code",[this._v("node_modules")]),this._v(" dependencies from. This is only needed if your generated bundle file is placed in a different location from where the externalized NPM dependencies are installed, or your "),e("code",[this._v("vue-server-renderer")]),this._v(" is NPM-linked into your current project.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cache","aria-hidden":"true"}},[this._v("#")]),this._v(" cache")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("type RenderCache "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" string "),s("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  has"),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" boolean "),s("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("LRU")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'lru-cache'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("LRU")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    max"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10000")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Note that the cache object should at least implement "),s("code",[t._v("get")]),t._v(" and "),s("code",[t._v("set")]),t._v(". In addition, "),s("code",[t._v("get")]),t._v(" and "),s("code",[t._v("has")]),t._v(" can be optionally async if they accept a second argument as callback. This allows the cache to make use of async APIs, e.g. a Redis client:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{attrs:{class:"token comment"}},[t._v("// handle error if any")]),t._v("\n        "),s("span",{attrs:{class:"token function"}},[t._v("cb")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"directives"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#directives","aria-hidden":"true"}},[this._v("#")]),this._v(" directives")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  directives"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token function"}},[t._v("example")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" directiveMeta"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{attrs:{class:"token comment"}},[t._v("// transform vnode based on directive binding metadata")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"serializer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#serializer","aria-hidden":"true"}},[this._v("#")]),this._v(" serializer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("New in 2.6")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"server-only-component-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server-only-component-options","aria-hidden":"true"}},[this._v("#")]),this._v(" Server-only Component Options")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"servercachekey"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#servercachekey","aria-hidden":"true"}},[this._v("#")]),this._v(" serverCacheKey")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Type:")]),this._v(" "),e("code",[this._v("(props) => any")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Return the cache key for the component based on incoming props. Does NOT have access to "),e("code",[this._v("this")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Since 2.6, you can explicitly bail out of caching by returning "),e("code",[this._v("false")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"serverprefetch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#serverprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" serverPrefetch")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Type:")]),this._v(" "),e("code",[this._v("() => Promise<any>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Fetch async data during server side rendering. It should store fetched data into a global store and return a Promise. The server renderer will wait on this hook until the Promise is resolved. This hook has access to the component instance via "),e("code",[this._v("this")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"webpack-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack Plugins")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRServerPlugin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/server-plugin'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRClientPlugin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/client-plugin'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("vue-ssr-server-bundle.json")]),this._v(" for the server plugin;")]),this._v(" "),e("li",[e("code",[this._v("vue-ssr-client-manifest.json")]),this._v(" for the client plugin.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" plugin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("VueSSRServerPlugin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  filename"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'my-server-bundle.json'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])}],!1,null,null,null);a.options.__file="README.md";e.default=a.exports}}]);